<ion-view view-title="Notificar Paciente" class="esqueci-senha-titulo">
    <ion-nav-title  class="esqueci-senha-titulo">
        Notificar Paciente
    </ion-nav-title>
    <ion-content class="contentGerenciarUsuario">
        <div class="bar bar-subheader bar-stable static text-center">
            <strong class="title titulo-icone gerenciarUsuarios">
                <i class="fa fa-paper-plane" aria-hidden="true"></i>
                <br />
                Gerenciar Notificações
            </strong>
        </div>
        <br />

        <div class="row">
            <div class="tabs tabs-balanced tabs-icon-top abasNotificacao" style="position: static; margin-bottom: 5px; border-radius: 5px; background: #62aaa2 !important;">
                <a class="tab-item lista" ng-class="{'active': mostrarLista == false}" href="javascript:void(0)" ng-click="mostrarBusca(false)" style="border-right: dashed 1px;" >
                    <i class="icon fa fa-podcast"></i> Cadastrar Notificacao 
                </a>
                <a class="tab-item graficos" ng-class="{'active': mostrarLista == true}" href="javascript:void(0)" ng-click="mostrarBusca(true)">
                    <i class="icon fa fa-search"></i> Buscar Notificações
                </a>
            </div>
        </div>


        <form name="formListarUsuario" id="formListarUsuario" ng-show="!mostrarLista" class="formPadrao formListarUsuario im-wrapper ">
            <div class="list">

                <label class="item item-input cadastroPadrao item-select">
                    <div class="input-label corpadrao">
                        Perfil
                    </div>
                    <select style="min-width: 75%;" name="sexo" ng-model="notificacaoData.perfil_id">
                        <option value="0">Todos os Perfis</option>
                        <option ng-repeat="perfil in listaPerfis" value="{{perfil.id}}">{{perfil.descricao}}</option>
                    </select>
                </label>

                <label class="item item-input cadastroPadrao item-select">
                    <div class="input-label corpadrao">
                        Sexo
                    </div>
                    <select style="min-width: 75%;" name="sexo" ng-model="notificacaoData.sexo">
                        <option value="0">Ambos os Sexos</option>
                        <option value="1">Masculino</option>
                        <option value="2">Feminino</option>
                    </select>
                </label>

                <label class="item item-input cadastroPadrao item-select" >
                    <div class="input-label corpadrao">
                        Câncer
                    </div>
                    <select style="min-width: 75%;" name="sexo" ng-model="notificacaoData.cancer_id" multiple="multiple">
                        <option value="0">Todos Cancers</option>
                        <option ng-repeat="cancer in listaCancer" value="{{cancer.id}}">{{cancer.descricao}}</option>
                    </select>
                </label>

                <label class="item item-input cadastroPadrao item-select">
                    <div class="input-label corpadrao">
                        Com Idade Acima de:
                    </div>
                    <select style="min-width: 2%;" name="sexo" ng-model="notificacaoData.idade">
                        <option ng-repeat="idade in listaIdade" value="{{idade}}">{{idade}}</option>
                    </select>
                </label>

                <label class="item item-input cadastroPadrao"> 
                    <i class="icon fa fa-user placeholder-icon" style="font-size: 24px"></i> 
                    <input type="text" placeholder="Informe nº PEP" class="pep" name="pep" ng-model="notificacaoData.pep" >
                </label>
                <input type="hidden" ng-model="notificacaoData.total" >
            </div>
            <button class="button button-full botaoPadrao" ng-click="pesquisaNotificacao()">Pesquisar</button>
        </form>
        <form name="formListarUsuario" id="formListarUsuario" ng-show="mostrarLista" class="formPadrao formListarUsuario im-wrapper ">
            <div class="list">
                <label class="item item-input cadastroPadrao "> 
                    <input type="text" placeholder="Data Envio: 99/99/9999" name="data_envio" class="data" ng-model="notificacaoData.data_envio" required>
                    <i class="icon fa fa-calendar placeholder-icon" style="font-size: 24px"></i> 
                </label>
                <label class="item item-input cadastroPadrao"> 
                    <i class="icon fa fa-font" style="font-size: 24px; margin-right: 8px;"></i> 
                    <input type="text" placeholder="Título da Mensagem" maxlength="50" class="titulo" name="titulo" ng-model="notificacaoData.titulo" >
                </label>

            </div>
            <button class="button button-full botaoPadrao" ng-click="buscarNotificacao()">Buscar</button>
        </form>

        <hr ng-show="mostrarListaBusca && mostrarLista" />

        <div class="listagem" ng-show="mostrarListaBusca && mostrarLista">

            <div class="row" >
                <div class="col col-100">
                    <h3 class="tituloListagem">Notificações Enviadas</h3>
                </div>
            </div>

            <div class="row" >
                <div class="col col-100 lista">
                    <table id="listaNotificacoes" class="display responsive nowrap" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>Data Envio</th>
                                <th >Título</th>
                                <th >Total Enviados</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>Data Envio</th>
                                <th >Título</th>
                                <th >Total Enviados</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
<style>
    .bar.bar-header{
        box-shadow: none !important;
    }
    .bar.bar-stable{
        border: none !important;
    }
</style>